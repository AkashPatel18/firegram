(this.webpackJsonpfiregram=this.webpackJsonpfiregram||[]).push([[0],{24:function(e,t,r){},25:function(e,t,r){"use strict";r.r(t);var c=r(3),n=r(15),a=r.n(n),s=r(7),i=r(2),l=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h1",{className:"title-h1",children:"FireGram "}),Object(i.jsx)("h2",{className:"title-h2",children:"Your Pictures"}),Object(i.jsx)("p",{children:"Create Your Memories With FireGram"})]})},u=r(12),o=r.n(u),j=r(16),d=r(10);r(26),r(27);d.a.initializeApp({apiKey:"AIzaSyA7n_hzRt6cOjr0F41W3H4m6tkIaT0S4fM",authDomain:"firegram-e191e.firebaseapp.com",projectId:"firegram-e191e",storageBucket:"firegram-e191e.appspot.com",messagingSenderId:"386586940883",appId:"1:386586940883:web:fec4d261fba6e2e563cb26"});var b=d.a.storage(),f=d.a.firestore(),m=d.a.firestore.FieldValue.serverTimestamp,O=function(e){var t=Object(c.useState)(0),r=Object(s.a)(t,2),n=r[0],a=r[1],i=Object(c.useState)(null),l=Object(s.a)(i,2),u=l[0],d=l[1],O=Object(c.useState)(null),p=Object(s.a)(O,2),g=p[0],h=p[1];return Object(c.useEffect)((function(){var t=b.ref(e.name),r=f.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;a(t)}),(function(e){d(e)}),Object(j.a)(o.a.mark((function e(){var c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:c=e.sent,n=m(),r.add({url:c,createdAt:n}),h(c);case 6:case"end":return e.stop()}}),e)}))))}),[e]),{progress:n,url:g,error:u}},p=function(e){var t=e.file,r=e.setFile,n=O(t),a=n.url,s=n.progress;return Object(c.useEffect)((function(){a&&r(null)}),[a]),console.log(s,a),Object(i.jsx)("div",{className:"progress-bar",style:{width:s+"%"}})},g=function(){var e=Object(c.useState)(null),t=Object(s.a)(e,2),r=t[0],n=t[1],a=Object(c.useState)(""),l=Object(s.a)(a,2),u=l[0],o=l[1],j=["image/png","image/jpeg"];return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("form",{children:[Object(i.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&j.includes(t.type)?n(t):(n(null),o("Please select an image file (jpeg or png)"))},className:"file_input",hidden:!0}),Object(i.jsxs)("div",{className:"output",children:[u&&Object(i.jsx)("div",{className:"error",children:u}),r&&Object(i.jsx)("div",{className:"error",children:r.name}),r&&Object(i.jsx)(p,{file:r,setFile:n})]})]})})},h=r(13),x=function(e){var t=Object(c.useState)([]),r=Object(s.a)(t,2),n=r[0],a=r[1];return Object(c.useEffect)((function(){var t=f.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(h.a)(Object(h.a)({},e.data()),{},{id:e.id}))})),a(t)}));return function(){return t()}}),[e]),{docs:n}},v=function(e){var t=e.setSelected,r=x("images").docs;return Object(i.jsx)("div",{className:"img_grid",children:r&&r.map((function(e){return Object(i.jsx)("div",{className:"img-wrap",onClick:function(){return t(e.url)},children:Object(i.jsx)("img",{src:e.url,alt:""})},e.id)}))})},S=function(e){var t=e.selected,r=e.setselected;console.log(t);return Object(i.jsx)("div",{className:"backdrop",onClick:function(e){r(null)},children:Object(i.jsx)("img",{src:t,alt:""})})},N=function(){var e=Object(c.useState)(null),t=Object(s.a)(e,2),r=t[0],n=t[1];return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(l,{}),Object(i.jsx)(g,{}),Object(i.jsx)(v,{setSelected:n}),r&&Object(i.jsx)(S,{selected:r,setselected:n})]})})};r(24);a.a.render(Object(i.jsx)(N,{}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.89ce7eca.chunk.js.map